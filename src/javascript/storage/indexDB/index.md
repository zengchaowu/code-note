# IndexedDB

## 为什么

### 现在有哪些存储方式

### 为什么需要新的存储方式

1.

各位学习前端的同学，今天给大家吐个槽， IndexedDB 太难用了。

事情是这样的，
我们公司最近在做一个聊天工具，要求用户没有网也能查看历史消息。
然后我们的服务端就说，你拿到数据以后先存到本地，然后下次进来先读取本地的数据再发请求。

第一种，也是出现得最早，所以兼容性最后的。cookie
第二种，是出现的稍晚的 storage API，包含 localstorage 和 sessionStorage。

假如我们现在有这么一个需求，我们会服务端返回大量的数据，这些数据必须在离线的时候还能使用。
同学们想一下，你会怎么做。

你可能会说，把数据 JSON 序列化以后，存入到 localstorage 或者 cookie 中。

这其实有很多 问题，首先就是现有的存储方式容量有限制，大部分浏览器对 storage 的限制都在 50M 以内。cookie 更是有数量限制。
另外 storage 的存储 内容也只能是 string 类型。

所以，IndexedDB 来了。一个只用于浏览器的数据库。

它拥有不少于 250M 的容量，chrome 浏览器甚至没有限制其大小。
异步操作，数据库操作在单独的线程中。
支持事务操作。
