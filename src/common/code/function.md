函数是多个语句的组合，函数调用通过栈来实现。

## 函数原理

### 函数名

函数名只是一个标识符，与普通变量名一样，在编译型语言中，函数名最终会编译成一个函数入口地址，部分编译器可以保留符号表，符号表里面存储着变量和地址的关系。方便对错误堆栈进行还原找到对应的方法或变量名。

### 函数调用

函数在调用时，会在内存中申请一块连续的栈空间存储函数的运行状态，这块空间也叫做栈帧。每个栈帧中存储着本次运行的函数局部变量、函数返回地址（上层函数调用此函数时下一条指令的地址）和上一个调用栈的信息。

### 参数拷贝

函数调用时，实参会被值拷贝。实参会被从右往左存入寄存器或者内存中，并且存储在调用函数和被调用函数的栈帧的间隙位置。

### 返回值

一般函数都有返回值，将返回值存入指定寄存器实现返回。

### 相关寄存器

在函数调用过程中，esp 和 ebp 存储当前运行的函数栈帧的顶部和底部，用来控制函数栈帧的申请和释放。增加 esp 和 ebp 就是开辟新的函数调用空间，减小就是释放函数栈帧。

eip-指令寄存器，则存放着下一条要执行的指令地址。

### call 与 jump

在汇编语言中，存在两个与函数相关的指令。jump 通过修改 eip 跳转到指定指令执行。call 则有两步操作，先压入返回地址，然后 jump 调用函数。
